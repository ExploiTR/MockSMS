package hacks.exploitr.mockSms.helpers;

import com.moez.QKSMS.interactor.Interactor
import com.moez.QKSMS.repository.MessageRepository
import io.reactivex.Flowable
import javax.inject.Inject

class SMSCreatorKt @Inject constructor(
        private val messageRepo: MessageRepository
) : Interactor<SMSCreatorKt.Params>() {

    class Params(val subId: Int, val addr: String, val msg: String, val time: Long)

    override fun buildObservable(params: Params): Flowable<*> {
        return Flowable.just(params)
                .doOnNext {
                    messageRepo.insertReceivedSms(
                            params.subId,
                            params.addr,
                            params.msg,
                            params.time)
                }
    }

}

